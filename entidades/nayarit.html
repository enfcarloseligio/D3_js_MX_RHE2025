<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Visualizaci√≥n interactiva de la distribuci√≥n de enfermeras en el Estado de Nayarit 2025." />
  <meta name="author" content="Secretar√≠a de Salud - Direcci√≥n General de Calidad y Educaci√≥n en Salud - Direcci√≥n de Enfermer√≠a" />
  <meta name="keywords" content="enfermer√≠a, salud, SIARHE, enfermeras, M√©xico, distribuci√≥n, mapa, 2025" />
  <title>SIARHE | Distribuci√≥n de Profesionales de Enfermer√≠a de Nayarit</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="../styles.css" />
  <link rel="stylesheet" href="../styles/mapas.css" />

  <!-- Librer√≠as externas -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

  <!-- Scripts internos -->
  <script type="module" src="../scripts/maps/nayarit.js"></script>
  <script src="../scripts/inyectar-layout.js"></script>
</head>

<body>
<main>

  <!-- SECCI√ìN PRINCIPAL DEL MAPA -->
  <section class="mapa-entidad">
    <h1>¬øCu√°ntas enfermeras hay en Nayarit en 2025?</h1>
    <p class="bienvenida">
      En el a√±o 2025, el estado de Nayarit cuenta con un total de <strong>2,205 enfermeras</strong> distribuidas en sus 20 municipios, de acuerdo con datos oficiales del Sistema de Informaci√≥n Administrativa de Recursos Humanos en Enfermer√≠a (SIARHE). Esta cifra refleja los esfuerzos del sistema de salud por garantizar el acceso equitativo a los servicios de enfermer√≠a en toda la entidad.
    </p>

    <h2>Distribuci√≥n de enfermeras en los municipios de Nayarit</h2>
    <p>
      A continuaci√≥n se muestra un mapa interactivo que representa la tasa de enfermeras por cada mil habitantes en los municipios de Nayarit. 
      Utiliza los botones de zoom (+/‚Äì) para acercar o alejar el mapa, y el bot√≥n de reinicio (‚ü≥) para volver a la vista general. Al pasar el cursor sobre cada municipio, podr√°s ver la tasa espec√≠fica de enfermeras por cada mil habitantes.
      Para consultar la informaci√≥n por municipio, puedes hacer uso de los controles de zoom y pasar el cursor sobre cada √°rea del mapa. Esto te permitir√° identificar con precisi√≥n la tasa de enfermeras por cada mil habitantes en cada regi√≥n.
    </p>


    <div id="mapa-nayarit" class="mapa-wrapper">
      <!-- Aqu√≠ se inyecta el mapa SVG din√°micamente -->
      <div class="zoom-controles"></div>
    </div>

    <p id="nota">
      <em>
        Nota: La tasa se calcula con base en el Censo de Poblaci√≥n y Vivienda 2020 (INEGI) y la Informaci√≥n del SIARHE (28 de enero de 2025).
        <br>Secretar√≠a de Salud. (enero, 2025). Sistema de Informaci√≥n Administrativa de Recursos Humanos en Enfermer√≠a (SIARHE).
      </em>
    </p>

    <!-- Botones para descarga del mapa -->
    <div class="descarga-container">
      <button id="descargar-sin-etiquetas" class="boton">üó∫Ô∏è Descargar üó∫Ô∏è</button>
      <button id="descargar-con-etiquetas" class="boton">üìù Descargar üìù</button>
    </div>
  </section>

  <!-- SECCI√ìN DE TABLA DIN√ÅMICA -->
  <section class="tabla-nayarit">
    <h2>Tasa de enfermeras por municipio en Nayarit (2025)</h2>
    <p>
      Esta tabla presenta un resumen detallado de cada municipio del estado, mostrando el n√∫mero total de enfermeras, su poblaci√≥n y la tasa de enfermeras por cada mil habitantes. Esta informaci√≥n es √∫til para la toma de decisiones en salud p√∫blica, distribuci√≥n de recursos y evaluaci√≥n de cobertura.
    </p>

    <div class="tabla-scroll">
      <div id="tabla-contenido">
        <!-- Tabla cargada din√°micamente con JS -->
      </div>
    </div>

    <div class="descarga-container">
      <button id="descargar-excel" class="boton">üì• Descargar Excel</button>
    </div>
  </section>

</main>

<!-- Cargar tabla y activar descarga -->
<script type="module">
  import { generarTablaMunicipios, habilitarDescargaExcel } from '../scripts/utils/tabla-municipios.js';

  generarTablaMunicipios('../data/rate/nayarit.csv');

  const nombreEntidad = location.pathname.split("/").pop().replace(".html", "");
  habilitarDescargaExcel(`enfermeras-${nombreEntidad}.xlsx`);
</script>

</body>
</html>
